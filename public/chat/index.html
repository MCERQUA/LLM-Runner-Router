<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Runner Router - Interactive Chat Demo</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <h1>🧠 LLM Runner Router</h1>
                <p>Real HuggingFace Model Demo</p>
            </div>
            <div class="status-indicator">
                <div class="status-dot offline" id="statusDot"></div>
                <span id="statusText">Initializing...</span>
            </div>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <div class="controls-panel">
                    <h3>🎛️ Router Configuration</h3>
                    
                    <div class="control-group">
                        <label for="strategySelect">Routing Strategy:</label>
                        <select id="strategySelect" class="control-input">
                            <option value="balanced">⚖️ Balanced</option>
                            <option value="quality-first">🏆 Quality First</option>
                            <option value="cost-optimized">💵 Cost Optimized</option>
                            <option value="speed-priority">⚡ Speed Priority</option>
                            <option value="random">🎲 Random</option>
                            <option value="round-robin">🔄 Round Robin</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label for="temperatureSlider">Temperature: <span id="tempValue">0.7</span></label>
                        <input type="range" id="temperatureSlider" class="control-slider" min="0" max="1" step="0.1" value="0.7">
                    </div>

                    <div class="control-group">
                        <label for="maxTokensSlider">Max Tokens: <span id="tokensValue">150</span></label>
                        <input type="range" id="maxTokensSlider" class="control-slider" min="50" max="500" step="25" value="150">
                    </div>

                    <div class="control-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="streamingCheckbox" checked>
                            <span class="checkmark"></span>
                            Enable Streaming
                        </label>
                    </div>
                </div>

                <div class="model-status">
                    <h3>📊 Model Status</h3>
                    <div class="model-list" id="modelList">
                        <div class="model-item">
                            <div class="model-name">Demo Mode</div>
                            <div class="model-status-badge simulated">Simulated</div>
                        </div>
                    </div>
                </div>

                <div class="stats-panel">
                    <h3>📈 Session Stats</h3>
                    <div class="stat-item">
                        <span class="stat-label">Messages:</span>
                        <span class="stat-value" id="messageCount">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Avg Response:</span>
                        <span class="stat-value" id="avgResponse">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Total Tokens:</span>
                        <span class="stat-value" id="totalTokens">0</span>
                    </div>
                </div>
            </div>

            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="welcome-message">
                        <div class="message-content">
                            <h3>👋 Welcome to LLM Runner Router - HuggingFace Demo!</h3>
                            <p>This is a <strong>real working demo</strong> that runs open source models from HuggingFace directly in your browser using our intelligent orchestration system.</p>
                            <div class="feature-highlights">
                                <div class="highlight-item">🤖 <strong>Open Source Models:</strong> DialoGPT, Zephyr-7B, local inference</div>
                                <div class="highlight-item">🎯 <strong>Smart Routing:</strong> Automatically selects optimal model based on strategy</div>
                                <div class="highlight-item">🔄 <strong>Multi-Engine:</strong> WebGPU acceleration with WASM fallback</div>
                                <div class="highlight-item">📊 <strong>Live Analytics:</strong> Real performance metrics and model status</div>
                                <div class="highlight-item">🆓 <strong>Completely Free:</strong> No API keys, no costs, all local</div>
                            </div>
                            <p><strong>Ask me anything!</strong> The LLM Router will intelligently select and load the best HuggingFace model for your query.</p>
                            <p><small>💡 First message may take time as models download. Subsequent responses are much faster!</small></p>
                        </div>
                    </div>
                </div>

                <div class="input-container">
                    <div class="input-wrapper">
                        <textarea id="messageInput" placeholder="Type your message here... (Press Ctrl+Enter to send)" 
                                rows="2" maxlength="1000"></textarea>
                        <div class="input-actions">
                            <button id="clearChat" class="btn-secondary" title="Clear Chat">🗑️</button>
                            <button id="sendButton" class="btn-primary" title="Send Message">
                                <span class="btn-text">Send</span>
                                <span class="btn-icon">📤</span>
                            </button>
                        </div>
                    </div>
                    <div class="input-footer">
                        <span class="char-count" id="charCount">0/1000</span>
                        <span class="shortcut-hint">Ctrl+Enter to send</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="floating-notifications" id="notifications"></div>

    <script type="module" src="chat.js"></script>
</body>
</html>