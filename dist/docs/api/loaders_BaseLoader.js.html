<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: loaders/BaseLoader.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: loaders/BaseLoader.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Base Loader Class
 * Abstract base class for all model loaders
 */

import { EventEmitter } from 'events';
import Logger from '../utils/Logger.js';

const logger = new Logger('BaseLoader');

/**
 * Abstract base class for model loaders
 * All format-specific loaders should extend this class
 */
class BaseLoader extends EventEmitter {
    constructor(config = {}) {
        super();
        this.config = config;
        this.loaded = false;
        this.model = null;
    }

    /**
     * Load a model from the specified source
     * @param {string|object} source - Model source (path, URL, or config)
     * @param {object} options - Loading options
     * @returns {Promise&lt;object>} Loaded model object
     * 
     * @example
     * // Load from local file path
     * await loader.load('./models/my-model.bin', {
     *   format: 'gguf',
     *   quantization: 'q4_k_m'
     * });
     * 
     * @example
     * // Load from URL with custom options
     * await loader.load('https://example.com/model.onnx', {
     *   cacheDir: './cache',
     *   timeout: 30000
     * });
     * 
     * @example
     * // Load with config object
     * await loader.load({
     *   source: 'huggingface:microsoft/DialoGPT-medium',
     *   task: 'text-generation',
     *   quantized: true
     * });
     */
    async load(source, options = {}) {
        throw new Error('load() must be implemented by subclass');
    }

    /**
     * Unload the current model and free resources
     * @returns {Promise&lt;void>}
     * 
     * @example
     * // Unload model and free memory
     * await loader.unload();
     * console.log('Model unloaded, memory freed');
     * 
     * @example
     * // Check if model is loaded before unloading
     * if (loader.loaded) {
     *   await loader.unload();
     *   console.log('Model successfully unloaded');
     * }
     */
    async unload() {
        this.loaded = false;
        this.model = null;
        this.emit('unloaded');
    }

    /**
     * Generate text from a prompt
     * @param {string} prompt - Input prompt
     * @param {object} options - Generation options
     * @returns {Promise&lt;object>} Generation result
     * 
     * @example
     * // Basic text generation
     * const result = await loader.generate('Hello, how are you?');
     * console.log(result.text);
     * 
     * @example
     * // Generation with custom parameters
     * const result = await loader.generate('Explain quantum physics', {
     *   maxTokens: 200,
     *   temperature: 0.7,
     *   topP: 0.9,
     *   stopStrings: ['\n\n']
     * });
     * console.log(`Generated ${result.tokens} tokens in ${result.latency}ms`);
     */
    async generate(prompt, options = {}) {
        throw new Error('generate() must be implemented by subclass');
    }

    /**
     * Stream tokens from the model
     * @param {string} prompt - Input prompt
     * @param {object} options - Streaming options
     * @returns {AsyncGenerator} Token stream
     * 
     * @example
     * // Stream tokens as they're generated
     * for await (const token of loader.stream('Write a story about')) {
     *   process.stdout.write(token);
     * }
     * 
     * @example
     * // Collect streamed tokens with error handling
     * try {
     *   let fullText = '';
     *   for await (const token of loader.stream('Explain AI', { maxTokens: 100 })) {
     *     fullText += token;
     *     console.log(`Token: ${token}`);
     *   }
     *   console.log(`Complete text: ${fullText}`);
     * } catch (error) {
     *   console.error('Streaming failed:', error.message);
     * }
     */
    async *stream(prompt, options = {}) {
        throw new Error('stream() must be implemented by subclass');
    }

    /**
     * Get information about the loaded model
     * @returns {object} Model information
     * 
     * @example
     * // Get basic model information
     * const info = loader.getModelInfo();
     * if (info) {
     *   console.log(`Model loaded: ${info.loaded}`);
     *   console.log(`Format: ${info.format}`);
     *   console.log(`Name: ${info.name}`);
     * }
     * 
     * @example
     * // Check model status before operations
     * const info = loader.getModelInfo();
     * if (!info || !info.loaded) {
     *   throw new Error('Model not loaded');
     * }
     * console.log('Model is ready for inference');
     */
    getModelInfo() {
        if (!this.loaded || !this.model) {
            return null;
        }
        return {
            loaded: this.loaded,
            ...this.model
        };
    }

    /**
     * Check if a model format is supported
     * @param {string} format - Model format
     * @returns {boolean} Whether format is supported
     * 
     * @example
     * // Check format support before loading
     * if (loader.supportsFormat('gguf')) {
     *   console.log('GGUF format is supported');
     *   await loader.load('./model.gguf');
     * } else {
     *   console.log('GGUF format not supported by this loader');
     * }
     * 
     * @example
     * // Validate multiple formats
     * const formats = ['gguf', 'onnx', 'safetensors'];
     * const supported = formats.filter(fmt => loader.supportsFormat(fmt));
     * console.log(`Supported formats: ${supported.join(', ')}`);
     */
    supportsFormat(format) {
        return false;
    }

    /**
     * Validate model source
     * @param {string|object} source - Model source
     * @returns {boolean} Whether source is valid
     * 
     * @example
     * // Validate file path
     * if (loader.validateSource('./models/my-model.bin')) {
     *   console.log('Source path is valid');
     * }
     * 
     * @example
     * // Validate URL source
     * const url = 'https://huggingface.co/microsoft/DialoGPT-medium';
     * if (loader.validateSource(url)) {
     *   console.log('URL source is valid');
     *   await loader.load(url);
     * } else {
     *   console.error('Invalid source URL');
     * }
     * 
     * @example
     * // Validate config object
     * const config = {
     *   source: 'hf:gpt2',
     *   task: 'text-generation'
     * };
     * if (loader.validateSource(config)) {
     *   await loader.load(config);
     * }
     */
    validateSource(source) {
        return true;
    }

    /**
     * Get loader capabilities
     * @returns {object} Loader capabilities
     * 
     * @example
     * // Check loader capabilities
     * const caps = loader.getCapabilities();
     * console.log(`Streaming: ${caps.streaming}`);
     * console.log(`GPU support: ${caps.gpu}`);
     * console.log(`Quantization: ${caps.quantization}`);
     * console.log(`Supported formats: ${caps.formats.join(', ')}`);
     * 
     * @example
     * // Use capabilities to choose features
     * const caps = loader.getCapabilities();
     * if (caps.streaming) {
     *   // Use streaming for real-time output
     *   for await (const token of loader.stream(prompt)) {
     *     console.log(token);
     *   }
     * } else {
     *   // Fall back to batch generation
     *   const result = await loader.generate(prompt);
     *   console.log(result.text);
     * }
     */
    getCapabilities() {
        return {
            streaming: false,
            quantization: false,
            gpu: false,
            formats: []
        };
    }
}

export default BaseLoader;
export { BaseLoader };</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ABTestingManager.html">ABTestingManager</a></li><li><a href="AuditLogger.html">AuditLogger</a></li><li><a href="AuthMiddleware.html">AuthMiddleware</a></li><li><a href="BPETokenizer.html">BPETokenizer</a></li><li><a href="BaseEngine.html">BaseEngine</a></li><li><a href="BaseLoader.html">BaseLoader</a></li><li><a href="BinaryLoader.html">BinaryLoader</a></li><li><a href="BinaryModel.html">BinaryModel</a></li><li><a href="BitNetLoader.html">BitNetLoader</a></li><li><a href="ConversionConfig.html">ConversionConfig</a></li><li><a href="ConversionResult.html">ConversionResult</a></li><li><a href="EnterpriseAuthManager.html">EnterpriseAuthManager</a></li><li><a href="EnterpriseManager.html">EnterpriseManager</a></li><li><a href="EnterpriseRouter.html">EnterpriseRouter</a></li><li><a href="ErrorHandler.html">ErrorHandler</a></li><li><a href="FormatConverter.html">FormatConverter</a></li><li><a href="GGUFLoader.html">GGUFLoader</a></li><li><a href="GGUFModel.html">GGUFModel</a></li><li><a href="GRPCClient.html">GRPCClient</a></li><li><a href="LLMRouter.html">LLMRouter</a></li><li><a href="MockLoader.html">MockLoader</a></li><li><a href="MockModel.html">MockModel</a></li><li><a href="ModelError.html">ModelError</a></li><li><a href="ModelInterface.html">ModelInterface</a></li><li><a href="ModelQuantizer.html">ModelQuantizer</a></li><li><a href="ModelRegistry.html">ModelRegistry</a></li><li><a href="ModelTemplates.html">ModelTemplates</a></li><li><a href="MultiTenancyManager.html">MultiTenancyManager</a></li><li><a href="Pipeline.html">Pipeline</a></li><li><a href="PyTorchLoader.html">PyTorchLoader</a></li><li><a href="PyTorchModel.html">PyTorchModel</a></li><li><a href="QuantizationConfig.html">QuantizationConfig</a></li><li><a href="QuantizationResult.html">QuantizationResult</a></li><li><a href="Router.html">Router</a></li><li><a href="SLAMonitor.html">SLAMonitor</a></li><li><a href="SentencePieceTokenizer.html">SentencePieceTokenizer</a></li><li><a href="SimpleLoader.html">SimpleLoader</a></li><li><a href="SimpleModel.html">SimpleModel</a></li><li><a href="TokenizationResult.html">TokenizationResult</a></li><li><a href="TokenizerConfig.html">TokenizerConfig</a></li><li><a href="UniversalTokenizer.html">UniversalTokenizer</a></li><li><a href="ValidationConfig.html">ValidationConfig</a></li><li><a href="ValidationSuite.html">ValidationSuite</a></li><li><a href="ValidationSuiteResult.html">ValidationSuiteResult</a></li><li><a href="ValidationTestResult.html">ValidationTestResult</a></li><li><a href="WordPieceTokenizer.html">WordPieceTokenizer</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Architectures">Architectures</a></li><li><a href="global.html#AuditEventTypes">AuditEventTypes</a></li><li><a href="global.html#AuthMethods">AuthMethods</a></li><li><a href="global.html#BreachSeverity">BreachSeverity</a></li><li><a href="global.html#Capabilities">Capabilities</a></li><li><a href="global.html#ComplianceFrameworks">ComplianceFrameworks</a></li><li><a href="global.html#EnterpriseFeatures">EnterpriseFeatures</a></li><li><a href="global.html#ExperimentStatus">ExperimentStatus</a></li><li><a href="global.html#IsolationLevels">IsolationLevels</a></li><li><a href="global.html#ModelFormat">ModelFormat</a></li><li><a href="global.html#ModelFormats">ModelFormats</a></li><li><a href="global.html#Permissions">Permissions</a></li><li><a href="global.html#QuantizationMethod">QuantizationMethod</a></li><li><a href="global.html#QuantizationPrecision">QuantizationPrecision</a></li><li><a href="global.html#QuotaTypes">QuotaTypes</a></li><li><a href="global.html#RiskLevels">RiskLevels</a></li><li><a href="global.html#RoutingStrategies">RoutingStrategies</a></li><li><a href="global.html#SLAMetricTypes">SLAMetricTypes</a></li><li><a href="global.html#SLAStatus">SLAStatus</a></li><li><a href="global.html#SessionTypes">SessionTypes</a></li><li><a href="global.html#SplittingAlgorithms">SplittingAlgorithms</a></li><li><a href="global.html#StatisticalTests">StatisticalTests</a></li><li><a href="global.html#TimeWindows">TimeWindows</a></li><li><a href="global.html#TokenizerType">TokenizerType</a></li><li><a href="global.html#UserRoles">UserRoles</a></li><li><a href="global.html#ValidationSeverity">ValidationSeverity</a></li><li><a href="global.html#ValidationTestType">ValidationTestType</a></li><li><a href="global.html#adjustTimeouts">adjustTimeouts</a></li><li><a href="global.html#attemptRecovery">attemptRecovery</a></li><li><a href="global.html#checkConnectivity">checkConnectivity</a></li><li><a href="global.html#clearCache">clearCache</a></li><li><a href="global.html#colors">colors</a></li><li><a href="global.html#createEnterpriseExpressRoutes">createEnterpriseExpressRoutes</a></li><li><a href="global.html#createEnterpriseRouter">createEnterpriseRouter</a></li><li><a href="global.html#createEnterpriseWebSocketHandlers">createEnterpriseWebSocketHandlers</a></li><li><a href="global.html#createMissingResources">createMissingResources</a></li><li><a href="global.html#defaultEnterpriseConfig">defaultEnterpriseConfig</a></li><li><a href="global.html#emergencyShutdown">emergencyShutdown</a></li><li><a href="global.html#enterpriseVersion">enterpriseVersion</a></li><li><a href="global.html#errorMonitoringMiddleware">errorMonitoringMiddleware</a></li><li><a href="global.html#escalateError">escalateError</a></li><li><a href="global.html#executeRecovery">executeRecovery</a></li><li><a href="global.html#getEnabledFeatures">getEnabledFeatures</a></li><li><a href="global.html#getMonitoringStatus">getMonitoringStatus</a></li><li><a href="global.html#getStats">getStats</a></li><li><a href="global.html#gracefulShutdown">gracefulShutdown</a></li><li><a href="global.html#handleCriticalError">handleCriticalError</a></li><li><a href="global.html#handleMemoryLeak">handleMemoryLeak</a></li><li><a href="global.html#httpMonitoringMiddleware">httpMonitoringMiddleware</a></li><li><a href="global.html#isFeatureEnabled">isFeatureEnabled</a></li><li><a href="global.html#logError">logError</a></li><li><a href="global.html#performHealthCheck">performHealthCheck</a></li><li><a href="global.html#recordCustomMetric">recordCustomMetric</a></li><li><a href="global.html#registerAlertRule">registerAlertRule</a></li><li><a href="global.html#registerDependency">registerDependency</a></li><li><a href="global.html#registerHealthCheck">registerHealthCheck</a></li><li><a href="global.html#reinstallDependencies">reinstallDependencies</a></li><li><a href="global.html#reload">reload</a></li><li><a href="global.html#restartProcess">restartProcess</a></li><li><a href="global.html#retryConnection">retryConnection</a></li><li><a href="global.html#selectRecoveryStrategy">selectRecoveryStrategy</a></li><li><a href="global.html#setupHandlers">setupHandlers</a></li><li><a href="global.html#setupMonitoring">setupMonitoring</a></li><li><a href="global.html#softRestart">softRestart</a></li><li><a href="global.html#startHealthMonitoring">startHealthMonitoring</a></li><li><a href="global.html#startPerformanceProfile">startPerformanceProfile</a></li><li><a href="global.html#validateEnterpriseConfig">validateEnterpriseConfig</a></li><li><a href="global.html#withCacheMonitoring">withCacheMonitoring</a></li><li><a href="global.html#withDatabaseMonitoring">withDatabaseMonitoring</a></li><li><a href="global.html#withModelMonitoring">withModelMonitoring</a></li><li><a href="global.html#withQueueMonitoring">withQueueMonitoring</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Aug 18 2025 01:43:35 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
